<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Checkout</title>
</head>
<body>

  <label>ุงุฎุชุฑ ุงููุญุงูุธุฉ:</label>
<select id="governorate" onchange="updateShipping()">
  <option value="">-- ุงุฎุชุฑ --</option>
  <option value="cairo">ุงููุงูุฑุฉ</option>
  <option value="giza">ุงูุฌูุฒุฉ</option>
  <option value="alex">ุงูุฅุณููุฏุฑูุฉ</option>
  <option value="other">ุจุงูู ุงููุญุงูุธุงุช</option>
</select>

<p>ุณุนุฑ ุงูุดุญู: <span id="shipping">0</span> ุฌููู</p>
<p>ุงูุฅุฌูุงูู: <span id="total">0</span> ุฌููู</p>

 <button onclick="goPayment()">ุชุฃููุฏ ุงูุทูุจ</button>
<br><br>
<button onclick="openWhatsApp()">ุฅุฑุณุงู ุนูู ูุงุชุณุงุจ</button>
 
<h2>ุฅุชูุงู ุงูุทูุจ</h2>

<p>ูุฑุฌู ุชุญููู <strong>ูุตู ูููุฉ ุงูุทูุจ</strong> ุนูู:</p>

<p>๐ฑ ููุฏุงููู ูุงุด: 01000000000</p>
<p>ุฃู InstaPay</p>

<button onclick="confirmPay()">ุชู ุงูุชุญููู</button>

<br><br>

  <script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];
let subtotal = cart.reduce((sum, item) => sum + item.price, 0);
let shippingCost = 0;

function updateShipping() {
  const gov = document.getElementById("governorate").value;

  if (gov === "cairo") shippingCost = 50;
  else if (gov === "giza") shippingCost = 60;
  else if (gov === "alex") shippingCost = 70;
  else if (gov === "other") shippingCost = 80;
  else shippingCost = 0;

  document.getElementById("shipping").innerText = shippingCost;
  document.getElementById("total").innerText = subtotal + shippingCost;
}

// initialize total
updateShipping();

// ุฒุฑ ุชุฃููุฏ ุงูุฏูุน ููุชุญ ุตูุญุฉ ุงูุฏูุน
function goPayment() {
  window.location.href = "payment.html";
}

// ุฒุฑ ูุงุชุณุงุจ ููุชุญ ูุจุงุดุฑุฉ
function openWhatsApp(){
  let phone = "201000000000"; // ุฑููู
  let msg = encodeURIComponent(
    "ุชู ุงูุชุญูููุ ูุฏู ุณูุฑูู ุงูุชุญููู + ุงูุฑูู ุงููู ุชู ุงูุชุญููู ููู"
  );
  window.location.href = `https://wa.me/${phone}?text=${msg}`;
}
</script>

<button onclick="openWhats()">ุฅุฑุณุงู ุณูุฑูู ุนูู ูุงุชุณุงุจ</button>

<script>
function confirmPay(){
  alert("ุชู ุชุณุฌูู ุงูุชุญููู โ ุจุฑุฌุงุก ุฅุฑุณุงู ุณูุฑูู");
}

function openWhats(){
  let phone = "201000000000"; // ุฑููู
  let msg = encodeURIComponent(
    "ุชู ุงูุชุญูููุ ุฏู ุณูุฑูู ุงูุชุญููู ูุฑูู ุงูููุจุงูู ุงููู ุงุชุญูู ููู"
  );
  window.location.href = `https://wa.me/${phone}?text=${msg}`;
}
</script>

</body>
</html>
